(function(){"use strict";var t={9217:function(t,e,a){var i=a(9242),n=a(3396);const s={class:"row mx-2"},o={class:"modal fade",id:"settingModal",tabindex:"-1","aria-labelledby":"settingModalLabel","aria-hidden":"true"},r={class:"modal-dialog modal-md modal-sm-md"},l={class:"modal-content w-75 w-100-md"},d=(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"settingModalLabel"},"表示項目の選択"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),c={class:"modal-body"},u={class:"list-group list-group-flush"},m={class:"list-group-item"},p=(0,n.Uk)(" 車両情報 "),g={class:"list-group"},h={class:"list-group-item"},w=(0,n.Uk)(" 温度情報 "),b={class:"list-group"},f={class:"list-group-item"},v=(0,n.Uk)(" 外部給電 "),k={class:"list-group"},T={class:"list-group-item"},y=(0,n.Uk)(" 地図設定 "),D={class:"list-group"},_=(0,n._)("li",{class:"list-group-item"},[(0,n.Uk)(" 情報縮小版 "),(0,n._)("ul",{class:"list-group"},[(0,n._)("li",{class:"list-group-item"},[(0,n._)("a",{target:"_blank",rel:"noopener noreferrer",href:"#"}," dami- ")])])],-1),N=(0,n._)("div",{class:"modal-footer"},null,-1);function C(t,e,a,i,C,I){const S=(0,n.up)("data-card-comp"),L=(0,n.up)("setting-win");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",s,[C.isvoltage?((0,n.wg)(),(0,n.j4)(S,{key:0,dataName:"FC電圧",unit:"V",idTagName:"voltageTag",idMainName:"voltage"})):(0,n.kq)("",!0),C.isspd?((0,n.wg)(),(0,n.j4)(S,{key:1,dataName:"車速",unit:"km/h",idTagName:"spdTag",idMainName:"spd"})):(0,n.kq)("",!0),C.issuppPower?((0,n.wg)(),(0,n.j4)(S,{key:2,dataName:"外部給電電力",unit:"kW",idTagName:"outPowerTab",idMainName:"outPower"})):(0,n.kq)("",!0),C.issuppTime?((0,n.wg)(),(0,n.j4)(S,{key:3,dataName:"外部給電可能時間",unit:"Hr",idTagName:"outPowerTimeTag",idMainName:"outPowerTime"})):(0,n.kq)("",!0),C.iscurrent?((0,n.wg)(),(0,n.j4)(S,{key:4,dataName:"FC電流",unit:"A",idTagName:"currentTag",idMainName:"current"})):(0,n.kq)("",!0),C.isremaHydrogen?((0,n.wg)(),(0,n.j4)(S,{key:5,dataName:"水素残量",unit:"%",idTagName:"remaHydrogenTag",idMainName:"remaHydrogen"})):(0,n.kq)("",!0),C.isoutTemp?((0,n.wg)(),(0,n.j4)(S,{key:6,dataName:"外気温",unit:"℃",idTagName:"outTempTag",idMainName:"outTemp"})):(0,n.kq)("",!0),C.iscruisRang?((0,n.wg)(),(0,n.j4)(S,{key:7,dataName:"航続可能距離",unit:"km",idTagName:"cruisRangTag",idMainName:"cruisRang"})):(0,n.kq)("",!0),C.isbattSOC?((0,n.wg)(),(0,n.j4)(S,{key:8,dataName:"バッテリSoC",unit:"%",idTagName:"battSOCTag",idMainName:"battSOC"})):(0,n.kq)("",!0),C.isthwfo?((0,n.wg)(),(0,n.j4)(S,{key:9,dataName:"FC水温",unit:"℃",idTagName:"thwfoTag",idMainName:"thwfo"})):(0,n.kq)("",!0),C.iscartemp?((0,n.wg)(),(0,n.j4)(S,{key:10,dataName:"車内温",unit:"℃",idTagName:"tempInCarTag",idMainName:"tempInCar"})):(0,n.kq)("",!0)]),(0,n._)("div",o,[(0,n._)("div",r,[(0,n._)("div",l,[d,(0,n._)("div",c,[(0,n._)("ul",u,[(0,n._)("li",m,[p,(0,n._)("ul",g,[(0,n.Wm)(L,{cardTitle:"FC電圧",onLabelData:I.isShow,inputID:"isvoltage"},null,8,["onLabelData"]),(0,n.Wm)(L,{cardTitle:"FC電流",onLabelData:I.isShow,inputID:"iscurrent",ischeck:"true"},null,8,["onLabelData"]),(0,n.Wm)(L,{cardTitle:"車速",onLabelData:I.isShow,inputID:"isspd"},null,8,["onLabelData"]),(0,n.Wm)(L,{cardTitle:"水素残量",onLabelData:I.isShow,inputID:"isremaHydrogen",ischeck:"true"},null,8,["onLabelData"]),(0,n.Wm)(L,{cardTitle:"航続可能距離",onLabelData:I.isShow,inputID:"iscruisRang"},null,8,["onLabelData"]),(0,n.Wm)(L,{cardTitle:"バッテリ",onLabelData:I.isShow,inputID:"isbattSOC"},null,8,["onLabelData"]),(0,n.Wm)(L,{cardTitle:"FC水温",onLabelData:I.isShow,inputID:"isthwfo"},null,8,["onLabelData"])])]),(0,n._)("li",h,[w,(0,n._)("ul",b,[(0,n.Wm)(L,{cardTitle:"外気温",onLabelData:I.isShow,inputID:"isoutTemp",ischeck:"true"},null,8,["onLabelData"]),(0,n.Wm)(L,{cardTitle:"車内温",onLabelData:I.isShow,inputID:"iscartemp"},null,8,["onLabelData"])])]),(0,n._)("li",f,[v,(0,n._)("ul",k,[(0,n.Wm)(L,{cardTitle:"給電電力",onLabelData:I.isShow,inputID:"issuppPower",ischeck:"true"},null,8,["onLabelData"]),(0,n.Wm)(L,{cardTitle:"給電残時間",onLabelData:I.isShow,inputID:"issuppTime",ischeck:"true"},null,8,["onLabelData"])])]),(0,n._)("li",T,[y,(0,n._)("ul",D,[(0,n.Wm)(L,{cardTitle:"車両追跡"})])]),_])]),N])])])],64)}var I=a(7139);const S=t=>((0,n.dD)("data-v-5db5da92"),t=t(),(0,n.Cn)(),t),L=["id"],x={class:"card"},M={class:"card-header"},j=S((()=>(0,n._)("span",{class:"is-medium"},[(0,n._)("i",{class:"fas fa-lg fa-bolt mx-1"})],-1))),O={class:"card-body"},W=["id"];function P(t,e,a,i,s,o){return(0,n.wg)(),(0,n.iD)("div",{class:"col-md-3 col-6 my-2 px-2",id:a.idTagName},[(0,n._)("div",x,[(0,n._)("div",M,[j,(0,n.Uk)(" "+(0,I.zw)(a.dataName),1)]),(0,n._)("div",O,[(0,n._)("h4",{class:"card-title",id:a.idMainName},(0,I.zw)(a.unit),9,W)])])],8,L)}var q={name:"dataCardComp",props:{dataName:String,unit:String,idTagName:String,idMainName:String}},E=a(89);const R=(0,E.Z)(q,[["render",P],["__scopeId","data-v-5db5da92"]]);var H=R;const U={class:"list-group-item"},F={class:"custom-control custom-switch"},z={class:"form-check form-switch disInline"},B=["id","checked"],A={class:"custom-control-label",for:"voltageTagSwitch"};function Z(t,e,a,i,s,o){return(0,n.wg)(),(0,n.iD)("li",U,[(0,n._)("div",F,[(0,n._)("div",z,[(0,n._)("input",{class:"form-check-input antiFlo",type:"checkbox",onClick:e[0]||(e[0]=(...t)=>o.labelbtn&&o.labelbtn(...t)),id:a.inputID,checked:a.ischeck},null,8,B)]),(0,n._)("label",A,(0,I.zw)(a.cardTitle),1)])])}var Y={name:"settingWin",props:{dami:String,cardTitle:String,inputID:String,ischeck:String},data(){return{isOutPowerTime:!0}},methods:{labelbtn(){this.$emit("label-data",this)}}};const $=(0,E.Z)(Y,[["render",Z],["__scopeId","data-v-37c2be24"]]);var G=$,V={name:"MyBppTest",components:{dataCardComp:H,settingWin:G},data(){return{isvoltage:!1,iscurrent:!0,isspd:!1,isremaHydrogen:!0,iscruisRang:!1,isbattSOC:!1,isthwfo:!1,isoutTemp:!0,iscartemp:!1,issuppPower:!0,issuppTime:!0}},methods:{isShow(t){"isvoltage"==t.inputID?this.isvoltage=!this.isvoltage:"iscurrent"==t.inputID?this.iscurrent=!this.iscurrent:"isspd"==t.inputID?this.isspd=!this.isspd:"isremaHydrogen"==t.inputID?this.isremaHydrogen=!this.isremaHydrogen:"iscruisRang"==t.inputID?this.iscruisRang=!this.iscruisRang:"isbattSOC"==t.inputID?this.isbattSOC=!this.isbattSOC:"isthwfo"==t.inputID?this.isthwfo=!this.isthwfo:"isoutTemp"==t.inputID?this.isoutTemp=!this.isoutTemp:"iscartemp"==t.inputID?this.iscartemp=!this.iscartemp:"issuppPower"==t.inputID?this.issuppPower=!this.issuppPower:"issuppTime"==t.inputID&&(this.issuppTime=!this.issuppTime)}}};const K=(0,E.Z)(V,[["render",C]]);var J=K;const Q={id:"gmap",class:"d-flex align-items-center",style:{height:"50vh"}};function X(t,e,a,i,s,o){return(0,n.wg)(),(0,n.iD)("div",Q)}var tt={name:"v_gmap",data(){return{childdata:0}},methods:{ugoku(){console.log(this.childdata)}},mounted(){let t=document.createElement("script");t.setAttribute("src","https://maps.googleapis.com/maps/api/js?key=AIzaSyCK1umacdk4YP_IfhDO_9imcUNzAqsU9qc&language=ja"),document.head.appendChild(t),window.onload=()=>{(()=>{const t=new URLSearchParams(location.search.slice(1));if(!t.has("code"))return location.href="https://masarutest001.auth.ap-northeast-1.amazoncognito.com/login?client_id=6s0ek26ks3a8ggrn6l9mtqardo&response_type=code&scope=openid&redirect_uri=http://localhost:8080";new window.google.maps.Map(document.getElementById("gmap"),{zoom:15,center:new window.google.maps.LatLng(35.2288635,138.9058909),mapTypeId:"roadmap"}),new window.google.maps.DirectionsService,new window.google.maps.DirectionsRenderer})()}}};const et=(0,E.Z)(tt,[["render",X]]);var at=et;const it=(0,n._)("input",{id:"getnum",type:"range",min:"1",max:"30"},null,-1),nt=(0,n.Uk)(),st=(0,n._)("label",{for:"getnum",id:"getnumResult"},"スライダーで回帰直線追加",-1),ot=(0,n._)("p",{id:"resultNum"},null,-1),rt=(0,n._)("canvas",{id:"myChart",height:"120vh"},null,-1),lt=[it,nt,st,ot,rt],dt={style:{"background-color":"#303535","text-align":"center"}};function ct(t,e,a,s,o,r){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(i.uT,{name:"fade"},{default:(0,n.w5)((()=>[o.isshow?((0,n.wg)(),(0,n.iD)("div",{key:0,id:"overlay",onClick:e[2]||(e[2]=t=>o.isshow=!o.isshow)},[(0,n._)("div",{id:"viecont",onClick:e[0]||(e[0]=(...t)=>r.stopevent&&r.stopevent(...t))},lt),(0,n._)("button",{onClick:e[1]||(e[1]=t=>o.isshow=!o.isshow)},"teest")])):(0,n.kq)("",!0)])),_:1}),(0,n._)("div",dt,[(0,n._)("a",{type:"button","data-target":"#Commentary",style:{color:"#ededed"},onClick:e[3]||(e[3]=(...t)=>r.showchart&&r.showchart(...t))},"データグラフ")])],64)}a(1703);var ut={name:"v_chart",data(){return{isshow:!1}},methods:{stopevent:function(){event.stopPropagation()},showchart:function(){let t=document.createElement("script");async function e(){try{const t=await fetch("https://vccdg94894.execute-api.ap-northeast-1.amazonaws.com/from_DB_to_webChart_STAGE/?getNum=30",{method:"GET",mode:"cors"});if(t.ok){const e=await t.json();return e}throw new Error("Network response was not ok.")}catch(t){console.error(t)}}t.setAttribute("src","https://cdn.jsdelivr.net/npm/chart.js"),document.head.appendChild(t),this.isshow=!this.isshow;let a=0;const i=[];e().then((t=>{const e=t.datetime.map((t=>t.slice(0,19).replace("T"," ")));t.foo1.forEach(((t,a)=>{i.push({x:a,y:t,date:e[a]})}));const n=e,s={labels:n,datasets:[{label:"IC出口圧力",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:i,showLine:!0,tension:.5,borderWidth:1}]},o={type:"scatter",data:s,options:{layout:{padding:{right:30}},plugins:{tooltip:{callbacks:{label:t=>{let a=Math.floor(new Date(e[t.dataIndex]).getTime()/1e3),i=Math.floor(new Date(e[e.length-1]).getTime()/1e3);return`取得日時: ${t.raw.date} | データ値: ${t.formattedValue} | 最新データから ${a-i}秒前`}}}}}},r=new window.Chart(document.getElementById("myChart"),o);let l=t=>{a=Number(document.getElementById("getnum").value),document.getElementById("getnumResult").innerText=a+"個データで回帰直線";let n=i.slice();n.splice(0,30-a),console.log(t);var s,o,l,d,c,u=0,m=0,p=0,g=0;let h=600;n.forEach((function(t){u+=t.x,m+=t.y,p+=t.x*t.y,g+=Math.pow(t.x,2)})),c=n.length,s=u/c,o=m/c,d=(c*p-u*m)/(c*g-Math.pow(u,2)),l=o-d*s;var w=[];for(let e=0;e<h;e++)n.push({x:n[n.length-1].x+1,y:0});n.forEach((function(t,i){if(i<n.length-h)w.push({x:t.x,y:l+d*t.x,date:e[i+30-a]});else{let a=new Date(e[e.length-1]),s=a.setSeconds(a.getSeconds()+6*Math.abs(n.length-1-h-i)),o=new Date(s);w.push({x:t.x,y:l+d*t.x,date:o.getFullYear()+"-"+Number(o.getMonth()+1)+"-"+o.getDate()+" "+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()})}})),r.data.datasets.length>1&&r.data.datasets.pop(),r.data.datasets.push({label:"回帰直線",backgroundColor:"rgb(185, 99, 132)",borderColor:"rgb(185, 99, 132)",data:w,showLine:!0,pointRadius:1,hitRadius:1,borderWidth:1}),r.update()};document.getElementById("getnum").addEventListener("change",l)}))}}};const mt=(0,E.Z)(ut,[["render",ct]]);var pt=mt;(0,i.ri)(J).mount("#bpp"),(0,i.ri)(at).mount("#v-gmap"),(0,i.ri)(pt).mount("#v-chart")}},e={};function a(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,i,n,s){if(!i){var o=1/0;for(c=0;c<t.length;c++){i=t[c][0],n=t[c][1],s=t[c][2];for(var r=!0,l=0;l<i.length;l++)(!1&s||o>=s)&&Object.keys(a.O).every((function(t){return a.O[t](i[l])}))?i.splice(l--,1):(r=!1,s<o&&(o=s));if(r){t.splice(c--,1);var d=n();void 0!==d&&(e=d)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[i,n,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,s,o=i[0],r=i[1],l=i[2],d=0;if(o.some((function(e){return 0!==t[e]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(l)var c=l(a)}for(e&&e(i);d<o.length;d++)s=o[d],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(c)},i=self["webpackChunkbuild_sectest"]=self["webpackChunkbuild_sectest"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(9217)}));i=a.O(i)})();
//# sourceMappingURL=app.0548ad98.js.map